/**
 * [chromeSmoothScroll Smooth scrolling for Chrome browser]
 * @return {[usage]} [ chromeSmoothScroll.init(); ]
 * @author Habib Hadi
 * @website http://habibhadi.com
 * @email me [at] habibhadi.com
 */

var chromeSmoothScroll=function(){var a={counter:0,minVal:0,maxVal:$(window).height()+500,scrolling:null,speed:800,offset:100,scrollHappen:!1,animTimeOut:50,mainTriggerElem:"html",animateTriggerElem:"html, body",tempPos:0,animating:!1,updatedMaxVal:!1,chromeOnly:!0},b=function(){if(a.chromeOnly===!0&&!f())return!1;var b="mousewheel";a.chromeOnly===!1&&(b+=" DOMMouseScroll"),$(a.mainTriggerElem).bind(b,function(b){b.preventDefault(),a.updatedMaxVal||c(),0==a.scrollHappen&&0!=$(window).scrollTop()&&d(),a.scrollHappen=!0,b=b.originalEvent?b.originalEvent:b;var f=b.detail?-40*b.detail:b.wheelDelta;f>0?a.counter--:0>f&&a.counter++,a.counter<a.minVal?a.counter=0:a.counter*a.offset>a.maxVal&&(a.counter=a.maxVal/a.offset),a.tempPos!=a.counter&&e()}),$(window).scroll(function(){if(0==a.animating){var c=null;clearTimeout(c),c=setTimeout(d,1e3)}}),g()},c=function(){a.maxVal=$(document).height()<$(window).height()?$(window).height():$(document).height(),a.updatedMaxVal=!0},d=function(){a.counter=$(window).scrollTop()/a.offset},e=function(){clearTimeout(a.scrolling),a.scrolling=setTimeout(function(){a.animating=!0,$(a.animateTriggerElem).stop().animate({scrollTop:a.counter*a.offset},a.speed,function(){a.tempPos=a.counter,a.animating=!1})},a.animTimeOut)},f=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},g=function(){$(a.mainTriggerElem).keydown(function(b){switch(b.which){case 38:$(a.animateTriggerElem).stop().animate({scrollTop:$(window).scrollTop()-2*a.offset},a.speed);break;case 40:$(a.animateTriggerElem).stop().animate({scrollTop:$(window).scrollTop()+2*a.offset},a.speed)}return 38==b.which||40==b.which?!1:void 0})};return{init:b}}();
